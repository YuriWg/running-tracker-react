{"ast":null,"code":"var _jsxFileName = \"/Users/wyl/Documents/GitHub/running-tracker-react/src/components/Legend.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './Legend.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Legend = () => {\n  _s();\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const svgRef = useRef(null);\n\n  // 颜色定义\n  const colors = {\n    longRun: \"#FF9966\",\n    // 长距离\n    mediumRun: \"#FFD700\",\n    // 中距离\n    shortRun: \"#87CEEB\",\n    // 短距离\n    text: \"#543A29\",\n    textSecondary: \"#896B54\",\n    background: \"#FDFAF6\",\n    border: \"rgba(162, 139, 122, 0.15)\"\n  };\n  useEffect(() => {\n    if (!svgRef.current) return;\n    drawLegend();\n  }, [isCollapsed]);\n\n  // 绘制跑步图标\n  const drawRunIcon = (container, data) => {\n    // 螺旋线参数\n    const turns = 2 + Math.min(3, data.distance / 5);\n    const spacing = 3.5;\n    const baseRadius = 3.5;\n    const lineWidth = 2.5;\n\n    // 颜色选择\n    let spiralColor;\n    if (data.distance >= 10) spiralColor = colors.longRun;else if (data.distance > 5) spiralColor = colors.mediumRun;else spiralColor = colors.shortRun;\n\n    // 创建渐变\n    const gradientId = \"legendIconGradient\";\n    const defs = container.append(\"defs\");\n    const gradient = defs.append(\"radialGradient\").attr(\"id\", gradientId).attr(\"cx\", \"0\").attr(\"cy\", \"0\").attr(\"r\", \"100%\").attr(\"fx\", \"0\").attr(\"fy\", \"0\").attr(\"gradientUnits\", \"userSpaceOnUse\");\n    gradient.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", spiralColor).attr(\"stop-opacity\", 0.9);\n    gradient.append(\"stop\").attr(\"offset\", \"100%\").attr(\"stop-color\", spiralColor).attr(\"stop-opacity\", 0.5);\n\n    // 最大角度\n    const maxAngle = turns * 2 * Math.PI;\n    const angleStep = 0.1;\n\n    // 创建螺旋线生成器\n    const spiral = d3.lineRadial().angle(d => d).radius(d => baseRadius + spacing * d / (2 * Math.PI));\n\n    // 创建点集合\n    const points = d3.range(0, maxAngle, angleStep);\n\n    // 绘制螺旋线\n    container.append(\"path\").datum(points).attr(\"d\", spiral).attr(\"fill\", \"none\").attr(\"stroke\", `url(#${gradientId})`).attr(\"stroke-width\", lineWidth).attr(\"stroke-linecap\", \"round\");\n\n    // 配速指示器\n    if (data.pace > 0) {\n      const spiralMaxRadius = baseRadius + spacing * maxAngle / (2 * Math.PI);\n      const circleRadius = 3.6;\n      const distanceFactor = 1.3;\n      const circleX = spiralMaxRadius * distanceFactor * (1 / Math.sqrt(2));\n      const circleY = -spiralMaxRadius * distanceFactor * (1 / Math.sqrt(2));\n\n      // 根据配速选择颜色\n      let paceColor;\n      if (data.pace < 5.5) paceColor = \"#FF4500\";else if (data.pace < 7) paceColor = \"#FFD700\";else paceColor = \"#7FD8BE\";\n\n      // 添加配速指示圆点\n      container.append(\"circle\").attr(\"cx\", circleX).attr(\"cy\", circleY).attr(\"r\", circleRadius).attr(\"fill\", paceColor).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 1).attr(\"opacity\", 0.9);\n    }\n  };\n\n  // 绘制完整图例\n  const drawLegend = () => {\n    if (isCollapsed) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n\n    // 设置SVG尺寸\n    const width = 360;\n    const height = 150;\n    svg.attr(\"width\", width).attr(\"height\", height);\n\n    // 绘制示例跑步图标\n    const iconGroup = svg.append(\"g\").attr(\"transform\", \"translate(60, 65) scale(2.0)\");\n    drawRunIcon(iconGroup, {\n      distance: 7,\n      pace: 6.2\n    });\n\n    // 绘制指示箭头和文字标签\n    // 配速箭头 - 修改为向下指向\n    svg.append(\"path\").attr(\"d\", \"M90,35 L115,60\") // 修改为右下45度\n    .attr(\"stroke\", colors.text).attr(\"stroke-width\", 1.5).attr(\"stroke-dasharray\", \"3,2\").attr(\"fill\", \"none\");\n    svg.append(\"circle\").attr(\"cx\", 115).attr(\"cy\", 60) // 调整位置\n    .attr(\"r\", 3).attr(\"fill\", colors.text);\n    svg.append(\"text\").attr(\"x\", 120).attr(\"y\", 65) // 调整位置\n    .attr(\"font-size\", 14).attr(\"fill\", colors.text).text(\"配速\");\n\n    // 距离箭头 - 保持水平\n    svg.append(\"path\").attr(\"d\", \"M90,75 L115,100\") // 修改为右下45度\n    .attr(\"stroke\", colors.text).attr(\"stroke-width\", 1.5).attr(\"stroke-dasharray\", \"3,2\").attr(\"fill\", \"none\");\n    svg.append(\"circle\").attr(\"cx\", 115).attr(\"cy\", 100) // 调整位置\n    .attr(\"r\", 3).attr(\"fill\", colors.text);\n    svg.append(\"text\").attr(\"x\", 120).attr(\"y\", 105) // 调整位置\n    .attr(\"font-size\", 14).attr(\"fill\", colors.text).text(\"距离\");\n\n    // 绘制颜色图例\n    const colorValues = [colors.longRun, colors.mediumRun, colors.shortRun];\n    const colorLabels = [[\"> 10km\", \"5-10km\", \"< 5km\"], [\"< 5'30\\\"\", \"5'30\\\"-7'00\\\"\", \"> 7'00\\\"\"]];\n\n    // 距离颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\").attr(\"x\", 180 + i * 60).attr(\"y\", 35).attr(\"width\", 14).attr(\"height\", 14).attr(\"fill\", colorValues[i]).attr(\"rx\", 3);\n      svg.append(\"text\").attr(\"x\", 180 + i * 60 + 7).attr(\"y\", 65).attr(\"text-anchor\", \"middle\").attr(\"font-size\", 12).attr(\"fill\", colors.text).text(colorLabels[0][i]);\n    }\n\n    // 配速颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\").attr(\"x\", 180 + i * 60).attr(\"y\", 80).attr(\"width\", 14).attr(\"height\", 14).attr(\"fill\", i === 0 ? \"#FF4500\" : i === 1 ? \"#FFD700\" : \"#7FD8BE\").attr(\"rx\", 3);\n      svg.append(\"text\").attr(\"x\", 180 + i * 60 + 7).attr(\"y\", 110).attr(\"text-anchor\", \"middle\").attr(\"font-size\", 12).attr(\"fill\", colors.text).text(colorLabels[1][i]);\n    }\n  };\n\n  // 收起状态的渲染\n  if (isCollapsed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-collapsed\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"legend-collapsed-button\",\n        onClick: () => setIsCollapsed(false),\n        title: \"\\u5C55\\u5F00\\u56FE\\u4F8B\",\n        \"aria-label\": \"\\u5C55\\u5F00\\u56FE\\u4F8B\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 展开状态的渲染\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"legend-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"legend-title\",\n        children: \"\\u56FE\\u4F8B\\u8BF4\\u660E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"legend-toggle-button\",\n        onClick: () => setIsCollapsed(true),\n        title: \"\\u6536\\u8D77\\u56FE\\u4F8B\",\n        \"aria-label\": \"\\u6536\\u8D77\\u56FE\\u4F8B\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-content\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n_s(Legend, \"/F/Rn8f/Iw9URK0O8+kNE3ad7nQ=\");\n_c = Legend;\nexport default Legend;\nvar _c;\n$RefreshReg$(_c, \"Legend\");","map":{"version":3,"names":["React","useState","useRef","useEffect","d3","jsxDEV","_jsxDEV","Legend","_s","isCollapsed","setIsCollapsed","svgRef","colors","longRun","mediumRun","shortRun","text","textSecondary","background","border","current","drawLegend","drawRunIcon","container","data","turns","Math","min","distance","spacing","baseRadius","lineWidth","spiralColor","gradientId","defs","append","gradient","attr","maxAngle","PI","angleStep","spiral","lineRadial","angle","d","radius","points","range","datum","pace","spiralMaxRadius","circleRadius","distanceFactor","circleX","sqrt","circleY","paceColor","svg","select","selectAll","remove","width","height","iconGroup","colorValues","colorLabels","i","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","ref","xmlns","_c","$RefreshReg$"],"sources":["/Users/wyl/Documents/GitHub/running-tracker-react/src/components/Legend.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './Legend.css';\n\nconst Legend = () => {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const svgRef = useRef(null);\n  \n  // 颜色定义\n  const colors = {\n    longRun: \"#FF9966\",   // 长距离\n    mediumRun: \"#FFD700\", // 中距离\n    shortRun: \"#87CEEB\",  // 短距离\n    text: \"#543A29\",\n    textSecondary: \"#896B54\",\n    background: \"#FDFAF6\",\n    border: \"rgba(162, 139, 122, 0.15)\"\n  };\n  \n  useEffect(() => {\n    if (!svgRef.current) return;\n    \n    drawLegend();\n  }, [isCollapsed]);\n  \n  // 绘制跑步图标\n  const drawRunIcon = (container, data) => {\n    // 螺旋线参数\n    const turns = 2 + Math.min(3, data.distance / 5);\n    const spacing = 3.5;\n    const baseRadius = 3.5;\n    const lineWidth = 2.5;\n    \n    // 颜色选择\n    let spiralColor;\n    if (data.distance >= 10) spiralColor = colors.longRun;\n    else if (data.distance > 5) spiralColor = colors.mediumRun;\n    else spiralColor = colors.shortRun;\n    \n    // 创建渐变\n    const gradientId = \"legendIconGradient\";\n    const defs = container.append(\"defs\");\n    const gradient = defs.append(\"radialGradient\")\n      .attr(\"id\", gradientId)\n      .attr(\"cx\", \"0\")\n      .attr(\"cy\", \"0\")\n      .attr(\"r\", \"100%\")\n      .attr(\"fx\", \"0\")\n      .attr(\"fy\", \"0\")\n      .attr(\"gradientUnits\", \"userSpaceOnUse\");\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", spiralColor)\n      .attr(\"stop-opacity\", 0.9);\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", spiralColor)\n      .attr(\"stop-opacity\", 0.5);\n    \n    // 最大角度\n    const maxAngle = turns * 2 * Math.PI;\n    const angleStep = 0.1;\n    \n    // 创建螺旋线生成器\n    const spiral = d3.lineRadial()\n      .angle(d => d)\n      .radius(d => baseRadius + spacing * d / (2 * Math.PI));\n    \n    // 创建点集合\n    const points = d3.range(0, maxAngle, angleStep);\n    \n    // 绘制螺旋线\n    container.append(\"path\")\n      .datum(points)\n      .attr(\"d\", spiral)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", `url(#${gradientId})`)\n      .attr(\"stroke-width\", lineWidth)\n      .attr(\"stroke-linecap\", \"round\");\n      \n    // 配速指示器\n    if (data.pace > 0) {\n      const spiralMaxRadius = baseRadius + spacing * maxAngle / (2 * Math.PI);\n      const circleRadius = 3.6;\n      const distanceFactor = 1.3;\n      const circleX = spiralMaxRadius * distanceFactor * (1/Math.sqrt(2));\n      const circleY = -spiralMaxRadius * distanceFactor * (1/Math.sqrt(2));\n      \n      // 根据配速选择颜色\n      let paceColor;\n      if (data.pace < 5.5) paceColor = \"#FF4500\";\n      else if (data.pace < 7) paceColor = \"#FFD700\";\n      else paceColor = \"#7FD8BE\";\n      \n      // 添加配速指示圆点\n      container.append(\"circle\")\n        .attr(\"cx\", circleX)\n        .attr(\"cy\", circleY)\n        .attr(\"r\", circleRadius)\n        .attr(\"fill\", paceColor)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"opacity\", 0.9);\n    }\n  };\n  \n  // 绘制完整图例\n  const drawLegend = () => {\n    if (isCollapsed) return;\n    \n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    \n    // 设置SVG尺寸\n    const width = 360;\n    const height = 150;\n    svg.attr(\"width\", width)\n       .attr(\"height\", height);\n    \n    // 绘制示例跑步图标\n    const iconGroup = svg.append(\"g\")\n      .attr(\"transform\", \"translate(60, 65) scale(2.0)\");\n    \n    drawRunIcon(iconGroup, {distance: 7, pace: 6.2});\n    \n    // 绘制指示箭头和文字标签\n    // 配速箭头 - 修改为向下指向\n    svg.append(\"path\")\n      .attr(\"d\", \"M90,35 L115,60\") // 修改为右下45度\n      .attr(\"stroke\", colors.text)\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"stroke-dasharray\", \"3,2\")\n      .attr(\"fill\", \"none\");\n    \n    svg.append(\"circle\")\n      .attr(\"cx\", 115)\n      .attr(\"cy\", 60) // 调整位置\n      .attr(\"r\", 3)\n      .attr(\"fill\", colors.text);\n    \n    svg.append(\"text\")\n      .attr(\"x\", 120)\n      .attr(\"y\", 65) // 调整位置\n      .attr(\"font-size\", 14)\n      .attr(\"fill\", colors.text)\n      .text(\"配速\");\n    \n    // 距离箭头 - 保持水平\n    svg.append(\"path\")\n        .attr(\"d\", \"M90,75 L115,100\") // 修改为右下45度\n        .attr(\"stroke\", colors.text)\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"stroke-dasharray\", \"3,2\")\n        .attr(\"fill\", \"none\");\n    \n    svg.append(\"circle\")\n      .attr(\"cx\", 115)\n      .attr(\"cy\", 100) // 调整位置\n      .attr(\"r\", 3)\n      .attr(\"fill\", colors.text);\n    \n    svg.append(\"text\")\n      .attr(\"x\", 120)\n      .attr(\"y\", 105) // 调整位置\n      .attr(\"font-size\", 14)\n      .attr(\"fill\", colors.text)\n      .text(\"距离\");\n    \n    // 绘制颜色图例\n    const colorValues = [colors.longRun, colors.mediumRun, colors.shortRun];\n    const colorLabels = [\n      [\"> 10km\", \"5-10km\", \"< 5km\"], \n      [\"< 5'30\\\"\", \"5'30\\\"-7'00\\\"\", \"> 7'00\\\"\"]\n    ];\n    \n    // 距离颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\")\n        .attr(\"x\", 180 + i * 60)\n        .attr(\"y\", 35)\n        .attr(\"width\", 14)\n        .attr(\"height\", 14)\n        .attr(\"fill\", colorValues[i])\n        .attr(\"rx\", 3);\n      \n      svg.append(\"text\")\n        .attr(\"x\", 180 + i * 60 + 7)\n        .attr(\"y\", 65)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", 12)\n        .attr(\"fill\", colors.text)\n        .text(colorLabels[0][i]);\n    }\n    \n    // 配速颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\")\n        .attr(\"x\", 180 + i * 60)\n        .attr(\"y\", 80)\n        .attr(\"width\", 14)\n        .attr(\"height\", 14)\n        .attr(\"fill\", i === 0 ? \"#FF4500\" : i === 1 ? \"#FFD700\" : \"#7FD8BE\")\n        .attr(\"rx\", 3);\n      \n      svg.append(\"text\")\n        .attr(\"x\", 180 + i * 60 + 7)\n        .attr(\"y\", 110)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", 12)\n        .attr(\"fill\", colors.text)\n        .text(colorLabels[1][i]);\n    }\n  };\n\n  // 收起状态的渲染\n  if (isCollapsed) {\n    return (\n      <div className=\"legend-collapsed\">\n        <button \n          className=\"legend-collapsed-button\"\n          onClick={() => setIsCollapsed(false)}\n          title=\"展开图例\"\n          aria-label=\"展开图例\"\n        >\n          <span>i</span>\n        </button>\n      </div>\n    );\n  }\n  \n  // 展开状态的渲染\n  return (\n    <div className=\"legend-panel\">\n      <div className=\"legend-header\">\n        <h3 className=\"legend-title\">图例说明</h3>\n        <button \n          className=\"legend-toggle-button\"\n          onClick={() => setIsCollapsed(true)}\n          title=\"收起图例\"\n          aria-label=\"收起图例\"\n        >\n          <span>×</span>\n        </button>\n      </div>\n      <div className=\"legend-content\">\n        <svg ref={svgRef} xmlns=\"http://www.w3.org/2000/svg\"></svg>\n      </div>\n    </div>\n  );\n};\n\nexport default Legend;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}