{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import*as d3 from'd3';import'./Legend.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Legend=()=>{const[isCollapsed,setIsCollapsed]=useState(false);const svgRef=useRef(null);// 颜色定义\nconst colors={longRun:\"#FF9966\",// 长距离\nmediumRun:\"#FFD700\",// 中距离\nshortRun:\"#87CEEB\",// 短距离\ntext:\"#543A29\",textSecondary:\"#896B54\",background:\"#FDFAF6\",border:\"rgba(162, 139, 122, 0.15)\"};useEffect(()=>{if(!svgRef.current)return;drawLegend();},[isCollapsed]);// 绘制跑步图标\nconst drawRunIcon=(container,data)=>{// 螺旋线参数\nconst turns=2+Math.min(3,data.distance/5);const spacing=3.5;const baseRadius=3.5;const lineWidth=2.5;// 颜色选择\nlet spiralColor;if(data.distance>=10)spiralColor=colors.longRun;else if(data.distance>5)spiralColor=colors.mediumRun;else spiralColor=colors.shortRun;// 创建渐变\nconst gradientId=\"legendIconGradient\";const defs=container.append(\"defs\");const gradient=defs.append(\"radialGradient\").attr(\"id\",gradientId).attr(\"cx\",\"0\").attr(\"cy\",\"0\").attr(\"r\",\"100%\").attr(\"fx\",\"0\").attr(\"fy\",\"0\").attr(\"gradientUnits\",\"userSpaceOnUse\");gradient.append(\"stop\").attr(\"offset\",\"0%\").attr(\"stop-color\",spiralColor).attr(\"stop-opacity\",0.9);gradient.append(\"stop\").attr(\"offset\",\"100%\").attr(\"stop-color\",spiralColor).attr(\"stop-opacity\",0.5);// 最大角度\nconst maxAngle=turns*2*Math.PI;const angleStep=0.1;// 创建螺旋线生成器\nconst spiral=d3.lineRadial().angle(d=>d).radius(d=>baseRadius+spacing*d/(2*Math.PI));// 创建点集合\nconst points=d3.range(0,maxAngle,angleStep);// 绘制螺旋线\ncontainer.append(\"path\").datum(points).attr(\"d\",spiral).attr(\"fill\",\"none\").attr(\"stroke\",`url(#${gradientId})`).attr(\"stroke-width\",lineWidth).attr(\"stroke-linecap\",\"round\");// 配速指示器\nif(data.pace>0){const spiralMaxRadius=baseRadius+spacing*maxAngle/(2*Math.PI);const circleRadius=3.6;const distanceFactor=1.3;const circleX=spiralMaxRadius*distanceFactor*(1/Math.sqrt(2));const circleY=-spiralMaxRadius*distanceFactor*(1/Math.sqrt(2));// 根据配速选择颜色\nlet paceColor;if(data.pace<5.5)paceColor=\"#FF4500\";else if(data.pace<7)paceColor=\"#FFD700\";else paceColor=\"#7FD8BE\";// 添加配速指示圆点\ncontainer.append(\"circle\").attr(\"cx\",circleX).attr(\"cy\",circleY).attr(\"r\",circleRadius).attr(\"fill\",paceColor).attr(\"stroke\",\"#fff\").attr(\"stroke-width\",1).attr(\"opacity\",0.9);}};// 绘制完整图例\nconst drawLegend=()=>{if(isCollapsed)return;const svg=d3.select(svgRef.current);svg.selectAll(\"*\").remove();// 设置SVG尺寸\nconst width=360;const height=150;svg.attr(\"width\",width).attr(\"height\",height);// 绘制示例跑步图标\nconst iconGroup=svg.append(\"g\").attr(\"transform\",\"translate(60, 65) scale(2.0)\");drawRunIcon(iconGroup,{distance:7,pace:6.2});// 绘制指示箭头和文字标签\n// 配速箭头 - 修改为向下指向\nsvg.append(\"path\").attr(\"d\",\"M90,35 L115,60\")// 修改为右下45度\n.attr(\"stroke\",colors.text).attr(\"stroke-width\",1.5).attr(\"stroke-dasharray\",\"3,2\").attr(\"fill\",\"none\");svg.append(\"circle\").attr(\"cx\",115).attr(\"cy\",60)// 调整位置\n.attr(\"r\",3).attr(\"fill\",colors.text);svg.append(\"text\").attr(\"x\",120).attr(\"y\",65)// 调整位置\n.attr(\"font-size\",14).attr(\"fill\",colors.text).text(\"配速\");// 距离箭头 - 保持水平\nsvg.append(\"path\").attr(\"d\",\"M90,75 L115,100\")// 修改为右下45度\n.attr(\"stroke\",colors.text).attr(\"stroke-width\",1.5).attr(\"stroke-dasharray\",\"3,2\").attr(\"fill\",\"none\");svg.append(\"circle\").attr(\"cx\",115).attr(\"cy\",100)// 调整位置\n.attr(\"r\",3).attr(\"fill\",colors.text);svg.append(\"text\").attr(\"x\",120).attr(\"y\",105)// 调整位置\n.attr(\"font-size\",14).attr(\"fill\",colors.text).text(\"距离\");// 绘制颜色图例\nconst colorValues=[colors.longRun,colors.mediumRun,colors.shortRun];const colorLabels=[[\"> 10km\",\"5-10km\",\"< 5km\"],[\"< 5'30\\\"\",\"5'30\\\"-7'00\\\"\",\"> 7'00\\\"\"]];// 距离颜色图例\nfor(let i=0;i<3;i++){svg.append(\"rect\").attr(\"x\",180+i*60).attr(\"y\",35).attr(\"width\",14).attr(\"height\",14).attr(\"fill\",colorValues[i]).attr(\"rx\",3);svg.append(\"text\").attr(\"x\",180+i*60+7).attr(\"y\",65).attr(\"text-anchor\",\"middle\").attr(\"font-size\",12).attr(\"fill\",colors.text).text(colorLabels[0][i]);}// 配速颜色图例\nfor(let i=0;i<3;i++){svg.append(\"rect\").attr(\"x\",180+i*60).attr(\"y\",80).attr(\"width\",14).attr(\"height\",14).attr(\"fill\",i===0?\"#FF4500\":i===1?\"#FFD700\":\"#7FD8BE\").attr(\"rx\",3);svg.append(\"text\").attr(\"x\",180+i*60+7).attr(\"y\",110).attr(\"text-anchor\",\"middle\").attr(\"font-size\",12).attr(\"fill\",colors.text).text(colorLabels[1][i]);}};// 收起状态的渲染\nif(isCollapsed){return/*#__PURE__*/_jsx(\"div\",{className:\"legend-collapsed\",children:/*#__PURE__*/_jsx(\"button\",{className:\"legend-collapsed-button\",onClick:()=>setIsCollapsed(false),title:\"\\u5C55\\u5F00\\u56FE\\u4F8B\",\"aria-label\":\"\\u5C55\\u5F00\\u56FE\\u4F8B\",children:/*#__PURE__*/_jsx(\"span\",{children:\"i\"})})});}// 展开状态的渲染\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"legend-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"legend-title\",children:\"\\u56FE\\u4F8B\\u8BF4\\u660E\"}),/*#__PURE__*/_jsx(\"button\",{className:\"legend-toggle-button\",onClick:()=>setIsCollapsed(true),title:\"\\u6536\\u8D77\\u56FE\\u4F8B\",\"aria-label\":\"\\u6536\\u8D77\\u56FE\\u4F8B\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"legend-content\",children:/*#__PURE__*/_jsx(\"svg\",{ref:svgRef,xmlns:\"http://www.w3.org/2000/svg\"})})]});};export default Legend;","map":{"version":3,"names":["React","useState","useRef","useEffect","d3","jsx","_jsx","jsxs","_jsxs","Legend","isCollapsed","setIsCollapsed","svgRef","colors","longRun","mediumRun","shortRun","text","textSecondary","background","border","current","drawLegend","drawRunIcon","container","data","turns","Math","min","distance","spacing","baseRadius","lineWidth","spiralColor","gradientId","defs","append","gradient","attr","maxAngle","PI","angleStep","spiral","lineRadial","angle","d","radius","points","range","datum","pace","spiralMaxRadius","circleRadius","distanceFactor","circleX","sqrt","circleY","paceColor","svg","select","selectAll","remove","width","height","iconGroup","colorValues","colorLabels","i","className","children","onClick","title","ref","xmlns"],"sources":["/Users/wyl/Documents/GitHub/running-tracker-react/src/components/Legend.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './Legend.css';\n\nconst Legend = () => {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const svgRef = useRef(null);\n  \n  // 颜色定义\n  const colors = {\n    longRun: \"#FF9966\",   // 长距离\n    mediumRun: \"#FFD700\", // 中距离\n    shortRun: \"#87CEEB\",  // 短距离\n    text: \"#543A29\",\n    textSecondary: \"#896B54\",\n    background: \"#FDFAF6\",\n    border: \"rgba(162, 139, 122, 0.15)\"\n  };\n  \n  useEffect(() => {\n    if (!svgRef.current) return;\n    \n    drawLegend();\n  }, [isCollapsed]);\n  \n  // 绘制跑步图标\n  const drawRunIcon = (container, data) => {\n    // 螺旋线参数\n    const turns = 2 + Math.min(3, data.distance / 5);\n    const spacing = 3.5;\n    const baseRadius = 3.5;\n    const lineWidth = 2.5;\n    \n    // 颜色选择\n    let spiralColor;\n    if (data.distance >= 10) spiralColor = colors.longRun;\n    else if (data.distance > 5) spiralColor = colors.mediumRun;\n    else spiralColor = colors.shortRun;\n    \n    // 创建渐变\n    const gradientId = \"legendIconGradient\";\n    const defs = container.append(\"defs\");\n    const gradient = defs.append(\"radialGradient\")\n      .attr(\"id\", gradientId)\n      .attr(\"cx\", \"0\")\n      .attr(\"cy\", \"0\")\n      .attr(\"r\", \"100%\")\n      .attr(\"fx\", \"0\")\n      .attr(\"fy\", \"0\")\n      .attr(\"gradientUnits\", \"userSpaceOnUse\");\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", spiralColor)\n      .attr(\"stop-opacity\", 0.9);\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", spiralColor)\n      .attr(\"stop-opacity\", 0.5);\n    \n    // 最大角度\n    const maxAngle = turns * 2 * Math.PI;\n    const angleStep = 0.1;\n    \n    // 创建螺旋线生成器\n    const spiral = d3.lineRadial()\n      .angle(d => d)\n      .radius(d => baseRadius + spacing * d / (2 * Math.PI));\n    \n    // 创建点集合\n    const points = d3.range(0, maxAngle, angleStep);\n    \n    // 绘制螺旋线\n    container.append(\"path\")\n      .datum(points)\n      .attr(\"d\", spiral)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", `url(#${gradientId})`)\n      .attr(\"stroke-width\", lineWidth)\n      .attr(\"stroke-linecap\", \"round\");\n      \n    // 配速指示器\n    if (data.pace > 0) {\n      const spiralMaxRadius = baseRadius + spacing * maxAngle / (2 * Math.PI);\n      const circleRadius = 3.6;\n      const distanceFactor = 1.3;\n      const circleX = spiralMaxRadius * distanceFactor * (1/Math.sqrt(2));\n      const circleY = -spiralMaxRadius * distanceFactor * (1/Math.sqrt(2));\n      \n      // 根据配速选择颜色\n      let paceColor;\n      if (data.pace < 5.5) paceColor = \"#FF4500\";\n      else if (data.pace < 7) paceColor = \"#FFD700\";\n      else paceColor = \"#7FD8BE\";\n      \n      // 添加配速指示圆点\n      container.append(\"circle\")\n        .attr(\"cx\", circleX)\n        .attr(\"cy\", circleY)\n        .attr(\"r\", circleRadius)\n        .attr(\"fill\", paceColor)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 1)\n        .attr(\"opacity\", 0.9);\n    }\n  };\n  \n  // 绘制完整图例\n  const drawLegend = () => {\n    if (isCollapsed) return;\n    \n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    \n    // 设置SVG尺寸\n    const width = 360;\n    const height = 150;\n    svg.attr(\"width\", width)\n       .attr(\"height\", height);\n    \n    // 绘制示例跑步图标\n    const iconGroup = svg.append(\"g\")\n      .attr(\"transform\", \"translate(60, 65) scale(2.0)\");\n    \n    drawRunIcon(iconGroup, {distance: 7, pace: 6.2});\n    \n    // 绘制指示箭头和文字标签\n    // 配速箭头 - 修改为向下指向\n    svg.append(\"path\")\n      .attr(\"d\", \"M90,35 L115,60\") // 修改为右下45度\n      .attr(\"stroke\", colors.text)\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"stroke-dasharray\", \"3,2\")\n      .attr(\"fill\", \"none\");\n    \n    svg.append(\"circle\")\n      .attr(\"cx\", 115)\n      .attr(\"cy\", 60) // 调整位置\n      .attr(\"r\", 3)\n      .attr(\"fill\", colors.text);\n    \n    svg.append(\"text\")\n      .attr(\"x\", 120)\n      .attr(\"y\", 65) // 调整位置\n      .attr(\"font-size\", 14)\n      .attr(\"fill\", colors.text)\n      .text(\"配速\");\n    \n    // 距离箭头 - 保持水平\n    svg.append(\"path\")\n        .attr(\"d\", \"M90,75 L115,100\") // 修改为右下45度\n        .attr(\"stroke\", colors.text)\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"stroke-dasharray\", \"3,2\")\n        .attr(\"fill\", \"none\");\n    \n    svg.append(\"circle\")\n      .attr(\"cx\", 115)\n      .attr(\"cy\", 100) // 调整位置\n      .attr(\"r\", 3)\n      .attr(\"fill\", colors.text);\n    \n    svg.append(\"text\")\n      .attr(\"x\", 120)\n      .attr(\"y\", 105) // 调整位置\n      .attr(\"font-size\", 14)\n      .attr(\"fill\", colors.text)\n      .text(\"距离\");\n    \n    // 绘制颜色图例\n    const colorValues = [colors.longRun, colors.mediumRun, colors.shortRun];\n    const colorLabels = [\n      [\"> 10km\", \"5-10km\", \"< 5km\"], \n      [\"< 5'30\\\"\", \"5'30\\\"-7'00\\\"\", \"> 7'00\\\"\"]\n    ];\n    \n    // 距离颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\")\n        .attr(\"x\", 180 + i * 60)\n        .attr(\"y\", 35)\n        .attr(\"width\", 14)\n        .attr(\"height\", 14)\n        .attr(\"fill\", colorValues[i])\n        .attr(\"rx\", 3);\n      \n      svg.append(\"text\")\n        .attr(\"x\", 180 + i * 60 + 7)\n        .attr(\"y\", 65)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", 12)\n        .attr(\"fill\", colors.text)\n        .text(colorLabels[0][i]);\n    }\n    \n    // 配速颜色图例\n    for (let i = 0; i < 3; i++) {\n      svg.append(\"rect\")\n        .attr(\"x\", 180 + i * 60)\n        .attr(\"y\", 80)\n        .attr(\"width\", 14)\n        .attr(\"height\", 14)\n        .attr(\"fill\", i === 0 ? \"#FF4500\" : i === 1 ? \"#FFD700\" : \"#7FD8BE\")\n        .attr(\"rx\", 3);\n      \n      svg.append(\"text\")\n        .attr(\"x\", 180 + i * 60 + 7)\n        .attr(\"y\", 110)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", 12)\n        .attr(\"fill\", colors.text)\n        .text(colorLabels[1][i]);\n    }\n  };\n\n  // 收起状态的渲染\n  if (isCollapsed) {\n    return (\n      <div className=\"legend-collapsed\">\n        <button \n          className=\"legend-collapsed-button\"\n          onClick={() => setIsCollapsed(false)}\n          title=\"展开图例\"\n          aria-label=\"展开图例\"\n        >\n          <span>i</span>\n        </button>\n      </div>\n    );\n  }\n  \n  // 展开状态的渲染\n  return (\n    <div className=\"legend-panel\">\n      <div className=\"legend-header\">\n        <h3 className=\"legend-title\">图例说明</h3>\n        <button \n          className=\"legend-toggle-button\"\n          onClick={() => setIsCollapsed(true)}\n          title=\"收起图例\"\n          aria-label=\"收起图例\"\n        >\n          <span>×</span>\n        </button>\n      </div>\n      <div className=\"legend-content\">\n        <svg ref={svgRef} xmlns=\"http://www.w3.org/2000/svg\"></svg>\n      </div>\n    </div>\n  );\n};\n\nexport default Legend;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}