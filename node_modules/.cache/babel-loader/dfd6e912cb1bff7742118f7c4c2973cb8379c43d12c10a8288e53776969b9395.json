{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{getSampleData}from'../data/sampleData';import{jsx as _jsx}from\"react/jsx-runtime\";export const AppContext=/*#__PURE__*/createContext();export const AppProvider=_ref=>{let{children}=_ref;const[runData,setRunData]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);// 获取示例数据\nconst data=getSampleData();// 验证数据格式\nconst validData=data.filter(item=>item&&typeof item.month==='number'&&typeof item.day==='number'&&typeof item.distance==='number');if(validData.length===0){console.error(\"没有有效的跑步数据\");}setRunData(validData);}catch(error){console.error(\"加载跑步数据失败:\",error);}finally{setIsLoading(false);}};fetchData();},[]);return/*#__PURE__*/_jsx(AppContext.Provider,{value:{runData,isLoading},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","getSampleData","jsx","_jsx","AppContext","AppProvider","_ref","children","runData","setRunData","isLoading","setIsLoading","fetchData","data","validData","filter","item","month","day","distance","length","console","error","Provider","value"],"sources":["/Users/wyl/Documents/GitHub/running-tracker-react/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { getSampleData } from '../data/sampleData';\n\nexport const AppContext = createContext();\n\nexport const AppProvider = ({ children }) => {\n  const [runData, setRunData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        // 获取示例数据\n        const data = getSampleData();\n        \n        // 验证数据格式\n        const validData = data.filter(item => (\n          item && \n          typeof item.month === 'number' &&\n          typeof item.day === 'number' &&\n          typeof item.distance === 'number'\n        ));\n        \n        if (validData.length === 0) {\n          console.error(\"没有有效的跑步数据\");\n        }\n        \n        setRunData(validData);\n      } catch (error) {\n        console.error(\"加载跑步数据失败:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <AppContext.Provider value={{\n      runData,\n      isLoading\n    }}>\n      {children}\n    </AppContext.Provider>\n  );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,OAASC,aAAa,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,MAAO,MAAM,CAAAC,UAAU,cAAGN,aAAa,CAAC,CAAC,CAEzC,MAAO,MAAM,CAAAO,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACtC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACFD,YAAY,CAAC,IAAI,CAAC,CAClB;AACA,KAAM,CAAAE,IAAI,CAAGZ,aAAa,CAAC,CAAC,CAE5B;AACA,KAAM,CAAAa,SAAS,CAAGD,IAAI,CAACE,MAAM,CAACC,IAAI,EAChCA,IAAI,EACJ,MAAO,CAAAA,IAAI,CAACC,KAAK,GAAK,QAAQ,EAC9B,MAAO,CAAAD,IAAI,CAACE,GAAG,GAAK,QAAQ,EAC5B,MAAO,CAAAF,IAAI,CAACG,QAAQ,GAAK,QAC1B,CAAC,CAEF,GAAIL,SAAS,CAACM,MAAM,GAAK,CAAC,CAAE,CAC1BC,OAAO,CAACC,KAAK,CAAC,WAAW,CAAC,CAC5B,CAEAb,UAAU,CAACK,SAAS,CAAC,CACvB,CAAE,MAAOQ,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,WAAW,CAAEA,KAAK,CAAC,CACnC,CAAC,OAAS,CACRX,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAEDC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,IAAA,CAACC,UAAU,CAACmB,QAAQ,EAACC,KAAK,CAAE,CAC1BhB,OAAO,CACPE,SACF,CAAE,CAAAH,QAAA,CACCA,QAAQ,CACU,CAAC,CAE1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}